<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/whiteboard.css">
    <title>Whiteboard</title>
</head>




<body>
    <header>
        <h1>Collabboard</h1>        
        
      
        <button id="fullscreenBtn" onclick="toggleFullscreen()">Fullscreen</button>
        <button class ="generateLinkBtn"id="generateLinkBtn" onclick="generateLink()">Generate Link</button>
        <button id="downloadBtn" onclick="downloadWhiteboard()">Download Whiteboard</button>
        <span class="toggle-btn" onclick="toggleSidebar()"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 900 900" width="24"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg></span>
        <div class="sidenav" id="mySidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="Login.html">Sign Up</a>
        <a href="Whiteboard.html">Whiteboards</a>
        <a href="index.html">Home</a>
        <a href="#">Contact</a>
   

    </header>
<div id="toolbar">   
    
    <input type="color" id="colorPicker" onchange="changeBackgroundColor(event)">
    <input type="color" id="colorPicker" onchange="changeColor(event)">
    <input type="widht" id="Widhtselecter" onchange ="changeWidth(event)">
    <button onclick="undoBackgroundChange()">Hintergrund r체ckg채nging machen</button>
    <button onclick="changeTool('pen')">Pen</button>
    <button onclick="changeTool('eraser')">Eraser</button>
    <button onclick="toggleEraserMode()">Toggle Eraser</button>
    <button onclick="drawWithBackgroundColor()">Zeichne mit Hintergrundfarbe</button>
    <input type="range" min="1" max="50" value="10" id="eraserSize" oninput="changeEraserSize(event)">
</div>
    <main>
        <canvas id="whiteboard" width="800" height="600"></canvas>
    </main>    
    <script src="JS/Zeichnenfunktion.js"></script>
    <script src="JS/sidebar.js"></script>
    <script src="JS/downloadwhiteboard.js"></script>
    <script src="server.js"></script>

    <script>

        function generateLink() {
            const link = window.location.href;
            alert('Share this link: ' + link);
        }

    
        function toggleFullscreen() {
    const canvas = document.getElementById('whiteboard');

    if (document.fullscreenElement) {

        document.exitFullscreen();
    } else {

        canvas.requestFullscreen();
    }
}

        function drawWithBackgroundColor() {
            var canvas = document.getElementById("whiteboard");

if (canvas) {
    var ctx = canvas.getContext("2d");
    var selectedBackgroundColor = window.getComputedStyle(canvas).selectedBackgroundColor    ;

    // Setze den Zeichenstil auf die Hintergrundfarbe des Canvas
    ctx.fillStyle = selectedBackgroundColor;
    ctx.strokeStyle = selectedBackgroundColor;
    ctx.lineWidth = 10;
    ctx.lineCap = 'round';

    // F체ge einen Event-Listener hinzu, um auf Mausbewegungen zu reagieren
    canvas.addEventListener("mousemove", function (e) {
        draw(e, ctx);
    });

    // F체ge einen Event-Listener hinzu, um auf das Beenden der Mausbewegung zu reagieren
    canvas.addEventListener("mouseup", function () {
        canvas.removeEventListener("mousemove", draw);
    });

    } else {
        console.error("Canvas-Element nicht gefunden.");
    }
}

    </script>
       

      
</body>
</html>
